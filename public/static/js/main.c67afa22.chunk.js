(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{152:function(e,t,n){},154:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(20),r=n.n(a),s=(n(152),n(8)),i=n.n(s),o=n(12),j=(n(154),n(10)),l=n(11),u=n(14),d=n(268),b=n(1),h={"Content-Type":"application/json",Accept:"application/json"},O=(d.a,d.a,d.a,d.a,d.a,d.a,d.a,d.a,d.a,d.a,d.a,d.a,d.a,n(204)),p=function(e,t,n){return t(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},e.target.name,e.target.value)))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{method:e,headers:h,body:JSON.stringify(t)}},m=function(e){return"http://localhost:3000".concat(e)},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(b.jsx)(O.a,{type:n?"submit":null,onClick:t,children:Object(b.jsx)(e,{})})},g=n(27),v=n(57),y={name:"",email:"",id:"",total_listens:0,total_time:0,recent_plays:[],follows:[],chats:[],type:"student",favorites:[],donations:[],total_donations:0},w=Object(v.b)({name:"student",initialState:y,reducers:{loginS:function(e,t){return Object(j.a)(Object(j.a)({},t.payload),{},{type:"student"})},addPlay:function(e,t){e.recent_plays.unshift(t.payload),e.total_listens+=1,e.total_time+=t.payload.length},logoutS:function(e){return y},addFollow:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{follows:[].concat(Object(g.a)(e.follows),[t.payload])})},removeFollow:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{follows:e.follows.filter((function(e){return e.id!==t.payload}))})},addChat:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{chats:[].concat(Object(g.a)(e.chats),[t.payload])})},setChatsS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{chats:[t.payload]})},addFavorite:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{favorites:[].concat(Object(g.a)(e.favorites),[t.payload])})},removeFav:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==t.payload.id}))})},addDonation:function(e,t){e.donations.push(t.payload.donation),e.total_donations=Number(e.total_donations)+Number(t.payload.donation.amount),e.most_donated_teacher=t.payload.most_donated_teacher,e.most_donated_by_amount=t.payload.most_donated_by_amount}}}),_=w.actions,S=_.addChat,k=_.addDonation,C=_.addFavorite,T=_.loginS,F=_.setChatsS,M=_.addPlay,D=_.addFollow,E=_.removeFav,I=_.removeFollow,N=_.logoutS,B=w.reducer,P=n(22),L=n(251),A=n(248),R=n(271),W=n(103),Y=n(5),H=n(238),U=n(206),$=n(264),q=n(269),z=n(244),Q=n(245),G=n(246),J=n(265),K=n(134),V=n(247),X=n(104),Z=n.n(X),ee=n(105),te=n.n(ee),ne=n(106),ce=n.n(ne),ae=n(107),re=n.n(ae),se=n(102),ie=n.n(se),oe=n(108),je=n.n(oe),le=n(109),ue=n.n(le),de="#56A3A6",be="#21CBF3",he=("linear-gradient(45deg, ".concat(de," 30%, ").concat(be," 90%)"),Object(W.a)(H.a)({background:"linear-gradient(45deg, ".concat(de," 30%, ").concat(be," 90%)"),padding:"15px",marginBottom:"3%"})),Oe=Object(W.a)(U.a)({background:"linear-gradient(45deg, ".concat(de," 30%, ").concat(be," 90%)"),boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",padding:"8px 12px",width:"43%",color:"white"}),pe=Object(W.a)($.a)({color:"".concat(be),after:"".concat(be)}),xe=(Object(W.a)(q.a)({color:"".concat(de),backgroundColor:"white"}),Object(W.a)(z.a)({marginLeft:"30%",marginTop:"10%",marginBottom:"15%",textAlign:"start",itemAlign:"center"})),me=Object(W.a)(Q.a)({width:"45%",margin:"2.5px auto",backgroundColor:"#FBFEF9"}),fe=(Object(W.a)(Z.a)({color:"#8B5D33"}),Object(W.a)(U.a)({background:"linear-gradient(45deg, ".concat(de," 30%, ").concat(be," 90%)"),boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",padding:"8px 12px",color:"white"})),ge=Object(W.a)(U.a)({background:"linear-gradient(45deg, ".concat(be," 30%, ").concat(de," 90%)"),boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",padding:"8px 12px",color:"white"}),ve=Object(Y.a)({switchBase:{color:"".concat(de," "),"&$checked":{color:"".concat(be," ")},"&$checked + $track":{backgroundColor:"".concat(de," ")}},checked:{},track:{}})(G.a),ye=Object(Y.a)({root:{"& label.Mui-focused":{color:"".concat(de)},"& .MuiInput-underline:after":{borderBottomColor:"".concat(de)},"&.Mui-focused fieldset":{borderColor:"".concat(de)}}})(q.a),we=Object(Y.a)({select:{"&:before":{borderColor:"".concat(de)},"&:after":{borderColor:"".concat(de)}}})(J.a),_e=Object(W.a)(J.a)({marginLeft:"40px"}),Se=Object(W.a)(te.a)({color:"".concat(be)}),ke=Object(W.a)(ce.a)({color:"".concat(be),border:"1px solid ".concat(be),borderRadius:"50%",padding:"10px"}),Ce=Object(W.a)(re.a)({color:"#BA1B1D",border:"1px solid #BA1B1D",borderRadius:"50%",padding:"10px"}),Te=Object(W.a)(K.a)({padding:"15px",margin:"5px 5px"}),Fe=Object(W.a)(K.a)({padding:"15px",margin:"2.5px auto",width:"50%"}),Me=Object(W.a)("img")({width:"50%",marginRight:"150x"}),De=Object(W.a)(ie.a)({background:"linear-gradient(45deg, ".concat(de," 30%, ").concat(be," 90%)")}),Ee=Object(W.a)(je.a)({color:"green",border:"1px solid green",borderRadius:"50%",padding:"10px"}),Ie=Object(W.a)("img")({width:"15%",height:"15%"}),Ne=Object(W.a)(V.a)({padding:"30px 90px",width:"65%"}),Be=Object(W.a)(ue.a)({color:"".concat(de)}),Pe=Object(W.a)(U.a)({border:"1px solid ".concat(be),background:"transparent",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",padding:"8px 5px",width:"35%",color:"".concat(de),marginLeft:"5%"}),Le=Object(W.a)("div")({marginLeft:"-12%"}),Ae=n(110),Re=n.n(Ae),We=n(111),Ye=n.n(We),He=Object(W.a)(Re.a)({color:"#BA1B1D"}),Ue=Object(W.a)(Ye.a)({color:"#BA1B1D"});function $e(e){var t=e.medId,n=e.teaId,c=e.teaImg,a=Object(l.c)((function(e){return e.student})),r=a.favorites.map((function(e){return e.meditation_id})),s=Object(l.b)(),j=Object(P.f)();function u(){return(u=Object(o.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/favorites",x("POST",{student_id:a.id,meditation_id:t}));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,s(C(c));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(o.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/favorites/".concat(t),x("DELETE"));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,s(E(c));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)(A.a,{children:[" ",f(Se,(function(){return j.push("/playingnow/".concat(t))})),Object(b.jsxs)(O.a,{onClick:function(){return j.push("/teachers/".concat(n))},children:[" ",Object(b.jsx)(R.a,{alt:"teacher-prof",src:c})," "]}),r.includes(t)?f(He,(function(){return function(e){return d.apply(this,arguments)}(a.favorites.find((function(e){return e.meditation_id===t})).id)})):f(Ue,(function(){return function(e){return u.apply(this,arguments)}(t)}))]})}var qe=n(249),ze=n(250),Qe=n(252),Ge=n(253),Je=Object(W.a)(qe.a)({height:"300px"});function Ke(e){var t=e.favorites,n=e.follows,c=e.most_pop_med,a=Object(l.c)((function(e){return e.student.follows})).map((function(e){return e.teacher_id})),r=function(e){return a.includes(e)},s=Object(l.b)(),j=Object(P.f)();function u(){return(u=Object(o.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/follows/".concat(t),x("DELETE"));case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).id?s(I(c.id)):alert(c.error);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n.map((function(e){return Object(b.jsxs)(me,{children:[Object(b.jsxs)("div",{onClick:function(){return j.push("/teachers/".concat(e.teacher.id))},children:[Object(b.jsx)(ze.a,{title:e.teacher.name}),Object(b.jsx)(Je,{alt:e.teacher.name,image:e.teacher.image_url.toString()})]}),Object(b.jsxs)(A.a,{children:[" ",Object(b.jsx)(L.a,{control:Object(b.jsx)(ve,{color:"primary",name:"followSwitch",checked:r(e.teacher.id),onChange:function(){return function(e){return u.apply(this,arguments)}(e.id)}}),label:r?"Following":"Not Following"})]})]})})),h=t.map((function(e){return Object(b.jsxs)(me,{children:[Object(b.jsxs)(Qe.a,{children:[" ",Object(b.jsx)(ze.a,{title:e.meditation.title}),e.teacher_name," ",Object(b.jsx)("br",{})," ",e.meditation.est_length," minutes"]}),Object(b.jsx)($e,{medId:e.meditation.id,teaId:e.meditation.teacher_id,teaImg:e.teacher_image})]},e.id)})),O=[c].map((function(e){return Object(b.jsxs)(me,{children:[Object(b.jsxs)(Qe.a,{children:[" ",Object(b.jsx)(ze.a,{title:e.title}),"From: ",e.teacher_name," ",Object(b.jsx)("br",{})," ",e.est_length," minutes"]}),Object(b.jsx)($e,{medId:e.id,teaId:e.teacher_id,teaImg:e.teacher_image})," "]})}));return Object(b.jsxs)("div",{children:[0===h.length&&0===d.length&&Object(b.jsx)("h4",{children:"Set up the teachers you'd like to follow and favorite meditations! "}),Object(b.jsx)("h3",{children:"Favorites:"}),0===h.length?Object(b.jsx)("p",{children:"No Favorites Yet "}):Object(b.jsx)(Ge.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:h}),Object(b.jsx)("h3",{children:"Following:"}),0===d.length?Object(b.jsx)("p",{children:"No follows yet"}):Object(b.jsx)(Ge.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:d}),Object(b.jsx)("h3",{children:"Most Popular Meditation:"}),O]})}var Ve=n(6),Xe={name:"",email:"",id:"",image_url:"",background:"",income:"",total_listens:"",total_favorites:"",meditations:[],follows:[],type:"teacher",opt_in:"",follow_message:"",chats:[],donations:[],total_donations:0},Ze=Object(v.b)({name:"teacher",initialState:Xe,reducers:{loginT:function(e,t){return Object(j.a)(Object(j.a)({},t.payload),{},{type:"teacher"})},updateMed:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{meditations:e.meditations.map((function(e){return e.id===t.payload.id?t.payload:e}))})},deleteMed:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{meditations:e.meditations.filter((function(e){return e.id!==t.payload.id})),last_med:[[].concat(Object(g.a)(e.last_med.slice(1)),[t.payload.last_med])[0]]})},logoutT:function(e,t){return Xe},addMed:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{meditations:[t.payload].concat(Object(g.a)(e.meditations)),last_med:[].concat(Object(g.a)(e.last_med.slice(1)),[t.payload])})},addMessage:function(e,t){e.chats.find((function(e){return e.id===+t.payload.chat_id})).messages.push(t.payload)},deleteChat:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{chats:e.chats.filter((function(e){return e.id!==t.payload.id}))})},setChatsT:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{chats:t.payload})},updateIncome:function(e,t){e.income=t.payload.income},hideDonation:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{donations:e.donations.filter((function(e){return e.id!==t.payload}))})}}}),et=Ze.actions,tt=et.loginT,nt=et.hideDonation,ct=et.updateIncome,at=et.setChatsT,rt=et.updateMed,st=(et.deleteChat,et.addMessage,et.addMed),it=et.deleteMed,ot=et.logoutT,jt=Ze.reducer,lt=n(266),ut=n(254),dt=n(112),bt=n.n(dt),ht=n(113),Ot=n.n(ht),pt=n(205),xt=Object(pt.a)(bt.a)({color:"green"}),mt=Object(pt.a)(Ot.a)({color:"#c79d1e"});function ft(e){var t=e.chats,n=e.last_med,a=Object(l.c)((function(e){return e.teacher})),r=Object(c.useState)(""),s=Object(Ve.a)(r,2),j=s[0],u=s[1],d=Object(P.f)(),h=Object(c.useState)(!1),O=Object(Ve.a)(h,2),p=O[0],m=O[1],g=Object(l.b)();function v(){return(v=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!1),e.next=3,fetch("/teachers/".concat(a.id),x("PATCH",{income:0}));case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).id?(m("You've successfully withdrawn: $".concat((.8*Number(a.income)).toFixed(2))),setTimeout((function(){m(!1),g(ct(n))}),2200)):m("Your information has not been updated, ".concat(n.error));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e=new Date,t=e.getDate(),c=e.getMonth(),a=e.getFullYear(),r=function(e){return"It's been ".concat(e," since you last made new content.")};if(n.length>0){var s=new Date(n[0].created_at),i=s.getDate(),o=s.getMonth(),j=s.getFullYear();u(a===j&&c===o&&t===i?"Congrats on your new content!":r(a>j?"over a year":c>o&&t>i?"over a month":c>o&&t<=i?"".concat(30-t+i," day").concat(30-t+i>1?"s":""):"".concat(t-i," day").concat(t-i>1?"s":"")))}}),[n]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Updates:"}),Object(b.jsxs)(Fe,{children:[f(Be,null),t.length>0&&t[0].title.length>0?Object(b.jsxs)("p",{children:["You have ",t.length," open question",t.length>1&&"s",".",Object(b.jsx)("br",{})," ",Object(b.jsx)("br",{}),Object(b.jsx)(fe,{onClick:function(){return d.push("/interact")},children:"Go to Messages"})," "]}):Object(b.jsx)("p",{children:"You have no questions currently"})]}),Object(b.jsxs)(Fe,{children:[f(mt,null),n.length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:j}),Object(b.jsxs)("p",{children:['You recorded "',n[0].title,'" on'," ",new Date(n[0].created_at).toLocaleString()," ",Object(b.jsx)("br",{})," ",Object(b.jsx)("br",{})]})]}):Object(b.jsx)("p",{children:" You haven't recorded any meditations yet. Start now!"}),Object(b.jsx)(fe,{onClick:function(){return d.push("/create")},children:"Make Something New"})," "]}),p&&Object(b.jsxs)(lt.a,{open:p,children:[Object(b.jsx)(ut.a,{children:" Withdrawl Information"}),Object(b.jsx)(Ne,{children:p}),Object(b.jsx)("br",{})]}),Object(b.jsxs)(Fe,{children:[f(xt,null),Number(a.income).toFixed(2)>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["Current Income: $",Number(a.income).toFixed(2)]}),Object(b.jsx)(fe,{onClick:function(){return v.apply(this,arguments)},children:"Withdraw"}),Object(b.jsx)("p",{children:"**Withdrawls are split 80/20 with Here|Now"})]}),Number(a.income).toFixed(2)<=0&&Object(b.jsx)("p",{children:"You have no new income."})]})]})}function gt(){var e=Object(l.c)((function(e){return""===e.student.name?e.teacher:e.student}));return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h2",{children:["Hello ",e.name,"!"]}),Object(b.jsx)("h3",{children:"Welcome to Here|Now "}),"student"===e.type&&Object(b.jsx)(Ke,Object(j.a)({},e)),"teacher"===e.type&&Object(b.jsx)(ft,Object(j.a)({},e))]})}var vt=n(115),yt=n.n(vt),wt=n(114),_t=n.n(wt),St=Object(W.a)(_t.a)({color:"".concat(de),marginBottom:"-5px"}),kt=Object(W.a)(R.a)({marginBottom:"-15%",height:"50px",width:"50px",marginLeft:"8px"}),Ct=Object(W.a)(K.a)({padding:"10px"}),Tt=function(e){var t=e.condition,n=e.wrapper1,c=e.wrapper2,a=e.children;return t?n(a):c(a)};function Ft(e){var t=e.m,n=e.clickHandler,c=void 0===n?null:n;return Object(b.jsxs)(Tt,{condition:c,wrapper1:function(e){return Object(b.jsx)(me,{children:e})},wrapper2:function(e){return Object(b.jsx)(Q.a,{children:e})},children:[Object(b.jsx)(kt,{alt:t.teacher.name,src:t.teacher.image_url}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(ze.a,{title:t.title,children:" "}),Object(b.jsxs)(Qe.a,{children:[Object(b.jsxs)(Ct,{children:[" ","Type: ",t.med_type," ",Object(b.jsx)("br",{})," ",Object(b.jsx)("br",{})," ",Object(b.jsx)(St,{})," ",t.description]})," ",f(yt.a,null),t.est_length," minutes"," ",null===c&&void 0!==t.listens&&Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)("br",{})," Listens: ",t.listens]}),c&&Object(b.jsx)(O.a,{onClick:null!==c?function(){return c(t.id)}:null,children:Object(b.jsx)(Se,{})})]})]})}var Mt=n(242),Dt=n(255);function Et(e){var t=e.m,n=Object(j.a)({},t),a=Object(l.b)(),r=Object(c.useState)(!1),s=Object(Ve.a)(r,2),u=s[0],h=s[1],O=Object(c.useState)(!1),g=Object(Ve.a)(O,2),v=g[0],y=g[1],w=Object(c.useState)(n),_=Object(Ve.a)(w,2),S=_[0],k=_[1],C=function(e){return p(e,k,S)};function T(){return(T=Object(o.a)(i.a.mark((function e(n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/meditations/".concat(t.id),x("PATCH",S));case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,a(rt(r)),y(!v);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(o.a)(i.a.mark((function e(){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("meditations/".concat(t.id),x("DELETE"));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,a(it(c));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)(me,{children:[!v&&Object(b.jsx)(Ft,{m:t}),v&&Object(b.jsxs)(K.a,{children:[Object(b.jsxs)("form",{onSubmit:function(e){return T.apply(this,arguments)},children:[Object(b.jsx)(ye,{onChange:C,type:"text",value:S.title,name:"title",label:"Title"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{onChange:C,type:"text",multiline:!0,fullWidth:!0,value:S.description,name:"description",label:"Description"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{value:S.est_length,onChange:C,type:"number",name:"est_length",label:"Length in Minutes"}),Object(b.jsx)("br",{}),Object(b.jsx)(Mt.a,{id:"type-label",htmlFor:"med_type",children:"Type"}),Object(b.jsxs)(J.a,{idLabel:"type-label",name:"med_type",onChange:C,children:[Object(b.jsx)(d.a,{value:"--select-one--",children:" --select-one--"}),Object(b.jsx)(d.a,{value:"Breath",children:"Breath"}),Object(b.jsx)(d.a,{value:"Awareness",children:"Awareness"}),Object(b.jsx)(d.a,{value:"Emotions",children:"Emotions"}),Object(b.jsx)(d.a,{value:"Metta",children:"Metta"}),Object(b.jsx)(d.a,{value:"Insight",children:"Insight"}),Object(b.jsx)(d.a,{value:"Bodyscan",children:"Body Scan"}),Object(b.jsx)(d.a,{value:"Listening",children:"Listening"}),Object(b.jsx)(d.a,{value:"Seeing",children:"Seeing"}),Object(b.jsx)(d.a,{value:"Walking",children:"Walking"}),Object(b.jsx)(d.a,{value:"Concentration",children:"Concentration"}),Object(b.jsx)(d.a,{value:"Nondual",children:"Non-Dual"}),Object(b.jsx)(d.a,{value:"Sleep",children:"Sleep"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),f(Ee,null,!0)]}),Object(b.jsx)("br",{})]}),Object(b.jsxs)(b.Fragment,{children:[u&&Object(b.jsx)(De,{controls:!0,width:"100%",height:"50px",url:m(t.audio_file)})," ",Object(b.jsxs)(Dt.a,{children:[Object(b.jsx)(fe,{onClick:function(){return h(!u)},children:u?"Close Preview":"Preview"})," ",Object(b.jsx)(ge,{onClick:function(){return y(!v)},children:v?"Cancel Edit":"Edit"})," ",Object(b.jsx)(fe,{onClick:function(){return F.apply(this,arguments)},children:"Delete"})," "]})]})]})}function It(){var e=Object(l.c)((function(e){return e.teacher})),t=e.meditations.map((function(e){return Object(b.jsx)(Et,{m:e},e.id)}));return Object(b.jsxs)("div",{children:[Object(b.jsxs)(me,{children:[Object(b.jsx)(ze.a,{title:"Teacher Stats"}),Object(b.jsxs)("p",{children:["Total Listens: ",e.total_listens]}),e.donations.length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["Highest Donation Amount from a Student:"," ",e.most_donated_by_amount.student_name," ($",Number(e.most_donated_by_amount.amount).toFixed(2),")"]}),Object(b.jsxs)("p",{children:[" ","Most Donatations from a Student: ",e.most_donated_student.student_name," (",e.most_donated_student.amount,")"]})," ",Object(b.jsxs)("p",{children:["Lifetime Income: $",Number(e.total_income).toFixed(2)]})]}):Object(b.jsx)("p",{children:" You've had no donations yet"}),Object(b.jsxs)("p",{children:["Follows: ",e.follows.length]})]}),Object(b.jsx)("h3",{children:"Meditations:"}),Object(b.jsx)(Ge.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:t})]})}function Nt(e){var t=e.meditation,n=e.created_at,c=e.teacher_name,a=e.teacher_image;return Object(b.jsxs)(me,{children:[Object(b.jsxs)(Qe.a,{children:[Object(b.jsx)(ze.a,{title:t.title}),c," ",Object(b.jsx)("br",{})," ",t.est_length," minutes ",Object(b.jsx)("br",{})," Listened on:"," ",new Date(n).toLocaleString()]}),Object(b.jsx)($e,{medId:t.id,teaId:t.teacher_id,teaImg:a})]})}function Bt(){var e,t,n=Object(l.c)((function(e){return e.student})),a=n.recent_plays,r=n.recent_plays.slice(1,5),s=Object(c.useState)(!1),i=Object(Ve.a)(s,2),o=i[0],u=i[1];return a.length>0&&(e=[a[0]].map((function(e){return Object(b.jsx)(Nt,Object(j.a)({},e),e.id)})),t=r.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(Nt,Object(j.a)({},e))},e.id)}))),Object(b.jsxs)("div",{children:[Object(b.jsxs)(Fe,{elevation:2,children:[Object(b.jsx)("h2",{children:"Stats:"}),n.total_listens>0?Object(b.jsxs)("p",{children:[" Total Sessions: ",n.total_listens]}):Object(b.jsx)("p",{children:"No meditations yet"}),Object(b.jsxs)("p",{children:["Total Time Meditated: ",n.total_time," minutes "]})]}),Object(b.jsx)("h3",{children:"Donations"}),n.donations.length>0?Object(b.jsxs)(Fe,{elevation:2,children:[" ",Object(b.jsxs)("p",{children:[" Total: $",Number(n.total_donations).toFixed(2)]}),Object(b.jsxs)("p",{children:[" Number of Donations: ",n.donations.length]}),Object(b.jsxs)("p",{children:["Most Donated by Amount to a Teacher: ",n.most_donated_by_amount.teacher_name," ($",Number(n.most_donated_by_amount.amount).toFixed(2),")"]}),Object(b.jsxs)("p",{children:[" ","Most Donatations to a Teacher: ",n.most_donated_teacher.teacher_name," (",n.most_donated_teacher.amount,")"]})," "]}):Object(b.jsx)("p",{children:"You've made no donations yet"}),Object(b.jsx)("h3",{children:"Recent Sessions:"}),e,Object(b.jsx)(fe,{onClick:function(){return u(!o)},children:"Show More Recent"}),o&&Object(b.jsx)("ul",{children:t})]})}var Pt=n(256),Lt=n(117),At=n.n(Lt),Rt=n(116),Wt=n.n(Rt),Yt=Object(W.a)("img")({height:"30%",width:"30%",objectFit:"contain"});function Ht(){var e=Object(l.c)((function(e){return""===e.student.name?e.teacher:e.student})),t=e.name,n=e.email,a=e.image_url,r=e.background,s=e.id,j=e.follow_message,u=Object(c.useState)({name:t,email:n,image_url:a,background:r,id:s,follow_message:j}),d=Object(Ve.a)(u,2),h=d[0],O=d[1],m=Object(c.useState)(!1),g=Object(Ve.a)(m,2),v=g[0],y=g[1],w=Object(l.b)(),_=function(e){return p(e,O,h)};function S(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(i.a.mark((function t(n){var c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("/".concat(e.type,"s/").concat(e.id),x("PATCH",h));case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,"teacher"===e.type?w(tt(a)):w(T(a)),y(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=Object(o.a)(i.a.mark((function t(n){var c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/teachers/".concat(e.id),x("PATCH",{opt_in:n.target.checked}));case 2:return c=t.sent,t.next=5,c.json();case 5:a=t.sent,w(tt(a));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsxs)("div",{children:["teacher"===e.type&&Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)(Yt,{alt:e.image_name,src:e.image_url})," "]}),Object(b.jsx)("br",{}),v?Object(b.jsx)(lt.a,{open:v,children:Object(b.jsxs)("div",{align:"center",children:[Object(b.jsx)(ut.a,{children:"Edit Details"}),Object(b.jsx)(Ne,{children:Object(b.jsxs)("form",{onSubmit:S,children:["guest"!==e.name?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ye,{fullWidth:!0,onChange:_,type:"text",label:"Name",value:h.name,name:"name"})," ",Object(b.jsx)("br",{}),Object(b.jsx)(ye,{fullWidth:!0,onChange:_,type:"text",label:"Email",value:h.email,name:"email"})]}):Object(b.jsx)("p",{children:"*Name and email cannot be edited as a guest* "}),"teacher"===e.type&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ye,{fullWidth:!0,onChange:_,type:"text",label:"Image Url",value:h.image_url,name:"image_url"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{fullWidth:!0,margin:"normal",multiline:!0,label:"Background",onChange:_,type:"textarea",value:h.background,name:"background"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{multiline:!0,fullWidth:!0,margin:"normal",label:"Follow Message",onChange:_,type:"textarea",value:h.follow_message,name:"follow_message"})]})]})}),Object(b.jsxs)(Pt.a,{children:[f(Ee,S),f(Ce,(function(){return y(!v)}))]})]})}):Object(b.jsxs)(me,{children:[Object(b.jsx)(ze.a,{title:"Profile"}),Object(b.jsxs)(Qe.a,{children:[f(Wt.a,null),e.name," ",f(At.a,null),e.email,"teacher"===e.type&&Object(b.jsxs)(K.a,{children:[Object(b.jsxs)("p",{children:["Public Bio: ",e.background," "]}),Object(b.jsxs)("p",{children:["Follow Message: ",e.follow_message]}),Object(b.jsx)("label",{htmlFor:"optStatus",children:" Question Status: "}),Object(b.jsx)(L.a,{control:Object(b.jsx)(ve,{color:"primary",name:"optStatus",checked:e.opt_in,onChange:function(e){return C.apply(this,arguments)}}),label:e.opt_in?"Open":"Closed"}),Object(b.jsx)("br",{})]})]}),Object(b.jsx)(fe,{onClick:function(){return y(!v)},children:"Edit Info"})]}),Object(b.jsx)("br",{}),"teacher"===e.type?Object(b.jsx)(It,{}):Object(b.jsx)(Bt,{})]})}var Ut=n(118),$t=n.n(Ut),qt=n(257),zt=n(258),Qt=n(125),Gt=n.n(Qt),Jt=n(124),Kt=n.n(Jt),Vt=n(75),Xt=n.n(Vt),Zt=n(119),en=n.n(Zt),tn=n(120),nn=n.n(tn),cn=n(81),an=n.n(cn),rn=n(121),sn=n.n(rn),on=n(122),jn=n.n(on),ln=n(74),un=n.n(ln),dn=n(123),bn=n.n(dn),hn=Object(W.a)(en.a)({color:"".concat(de)}),On=Object(W.a)(an.a)({color:"#BA1B1D"});function pn(e){var t=e.setErrors,n=e.setPrepRecord,a=e.prepRecord,r=e.setNewMed,s=e.newMed,l=e.setAttachedCustom,u=Object(c.useState)(!1),d=Object(Ve.a)(u,2),h=d[0],p=d[1],x=Object(c.useState)(!1),m=Object(Ve.a)(x,2),g=m[0],v=m[1],y=Object(c.useState)([]),w=Object(Ve.a)(y,2),_=w[0],S=w[1],k=Object(c.useState)(0),C=Object(Ve.a)(k,2),T=C[0],F=C[1],M=Object(c.useState)(0),D=Object(Ve.a)(M,2),E=D[0],I=D[1],N=Object(c.useState)(""),B=Object(Ve.a)(N,2),P=B[0],L=B[1];function A(){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:t=e.sent,v(new MediaRecorder(t,{mimeType:"audio/webm"})),p(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(){g.start(),p("Recording"),setTimeout((function(){return I(1)}),1e3)},Y=function(){g.stop(),g.ondataavailable=function(e){return S(e.data)},p("Recorded")},H=function(){r(Object(j.a)(Object(j.a)({},s),{},{audio_file:_}));var e=URL.createObjectURL(_);L(e),p("Uploaded"),l(!0)},U=function(){n(!0),p(!1),I(0),F(0),S([]),A(),l(!1)};function $(){return($=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=h,e.next=!1===e.t0?3:!0===e.t0?5:"Recording"===e.t0?7:"Recorded"===e.t0?9:"Uploaded"===e.t0?11:13;break;case 3:return A(),e.abrupt("break",13);case 5:return W(),e.abrupt("break",13);case 7:return Y(),e.abrupt("break",13);case 9:return H(),e.abrupt("break",13);case 11:return U(),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e=setInterval((function(){"recording"===g.state&&(E>=0?I(E+1):59===E&&(F(T+1),I(0))),("paused"===g.state||_.length>0)&&(I(E),F(T))}),1e3);return function(){return clearInterval(e)}}),[E]),Object(b.jsxs)(lt.a,{open:a,children:[Object(b.jsx)(ut.a,{children:"Recording Interface"}),Object(b.jsxs)(V.a,{children:[Object(b.jsxs)("p",{children:[T," : ",E>=10?E:"0".concat(E)," ","paused"===g.state&&"Paused"]}),"Uploaded"===h&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("br",{}),Object(b.jsx)("audio",{width:"50%",controls:!0,src:P}),Object(b.jsx)("br",{})]})]}),Object(b.jsxs)(Pt.a,{children:[Object(b.jsx)(O.a,{onClick:function(){return $.apply(this,arguments)},children:!1===h?Object(b.jsx)(nn.a,{}):!0===h?Object(b.jsx)(an.a,{}):"Recording"===h?Object(b.jsx)(On,{}):"Recorded"===h?Object(b.jsx)(sn.a,{}):Object(b.jsx)(jn.a,{})}),"Uploaded"===h&&f(un.a,(function(){return n(!1)})),"inactive"!==g.state&&void 0!==g.state&&Object(b.jsxs)(O.a,{onClick:function(){"paused"===g.state?(g.resume(),"inactive"===g.state&&t("Recorder is inactive")):g.pause()},children:[Object(b.jsx)(Se,{})," ",Object(b.jsx)(hn,{})]}),f(bn.a,(function(){n(!1),S([]),l(!1)}))]})]})}var xn=Object(W.a)(qt.a)({width:"50%",margin:"0 auto"});function mn(){var e={title:"",description:"",med_type:"Breath",est_length:"",audio_file:"",teacher_id:Object(l.c)((function(e){return""===e.student.name?e.teacher:e.student})).id},t=Object(l.b)(),n=Object(P.f)(),a=Object(c.useState)(!1),r=Object(Ve.a)(a,2),s=r[0],u=r[1],h=Object(c.useState)(e),x=Object(Ve.a)(h,2),m=x[0],g=x[1],v=Object(c.useState)(!1),y=Object(Ve.a)(v,2),w=y[0],_=y[1],S=Object(c.useState)(!1),k=Object(Ve.a)(S,2),C=k[0],T=k[1],F=Object(c.useState)(!1),M=Object(Ve.a)(F,2),D=M[0],E=M[1],I=Object(c.useState)(!1),N=Object(Ve.a)(I,2),B=N[0],L=N[1],A=function(e){return p(e,g,m)};function R(e){return W.apply(this,arguments)}function W(){return(W=Object(o.a)(i.a.mark((function n(c){var a,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r in c.preventDefault(),E(!0),T(!1),a=new FormData,m)a.append(r,m[r]);$t.a.post("http://localhost:3000/meditations",a).then((function(n){n.data.id&&(t(st(n.data)),_(!0),g(e)),n.data.error&&T("Something went wrong, ".concat(n.data.error))})).then((function(){E(!1)}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(b.jsxs)(me,{children:[Object(b.jsx)(ze.a,{title:"Create and Upload"}),D&&Object(b.jsxs)("p",{children:[Object(b.jsx)(xn,{})," "]}),w&&Object(b.jsxs)(lt.a,{open:w,children:[" ",Object(b.jsx)(ut.a,{id:"dialog-title",children:"Sucess!"}),Object(b.jsx)(V.a,{children:Object(b.jsx)(zt.a,{id:"dialog-description",children:"Your file has been uploaded! Would you like to create more or view your new content on your profile page?"})}),Object(b.jsxs)(Pt.a,{children:[f(Kt.a,(function(){return n.push("/profile")})),f(Xt.a,(function(){_(!1),u(!1)}))]})]}),C&&Object(b.jsx)("p",{children:C}),Object(b.jsxs)("form",{onSubmit:R,children:[Object(b.jsx)(ye,{value:m.title,onChange:A,label:"Title",type:"text",name:"title"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{onChange:A,value:m.description,fullWidth:!0,multiline:!0,label:"Description",type:"text",name:"description"}),Object(b.jsx)(ye,{margin:"normal",label:"Length in Minutes",value:m.est_length,onChange:A,type:"number",name:"est_length"}),Object(b.jsx)(Mt.a,{id:"type-label",htmlFor:"med_type",children:"Type"}),Object(b.jsxs)(we,{idLabel:"type-label",id:"med_type",name:"med_type",label:"Type",onChange:A,children:[Object(b.jsx)(d.a,{value:"--select-one--",children:" --select-one--"}),Object(b.jsx)(d.a,{value:"Breath",children:"Breath"}),Object(b.jsx)(d.a,{value:"Awareness",children:"Awareness"}),Object(b.jsx)(d.a,{value:"Emotions",children:"Emotions"}),Object(b.jsx)(d.a,{value:"Metta",children:"Metta"}),Object(b.jsx)(d.a,{value:"Insight",children:"Insight"}),Object(b.jsx)(d.a,{value:"Bodyscan",children:"Body Scan"}),Object(b.jsx)(d.a,{value:"Listening",children:"Listening"}),Object(b.jsx)(d.a,{value:"Seeing",children:"Seeing"}),Object(b.jsx)(d.a,{value:"Walking",children:"Walking"}),Object(b.jsx)(d.a,{value:"Concentration",children:"Concentration"}),Object(b.jsx)(d.a,{value:"Nondual",children:"Non-Dual"}),Object(b.jsx)(d.a,{value:"Sleep",children:"Sleep"})]}),Object(b.jsx)("br",{}),B?Object(b.jsx)("p",{children:" Recorded File Attached "}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{accept:"audio/*",style:{display:"none"},onChange:function(e){return g(Object(j.a)(Object(j.a)({},m),{},{audio_file:e.target.files[0]}))},type:"file",name:"audio_file",id:"audio_file"}),Object(b.jsx)("span",{children:m.audio_file.name}),Object(b.jsxs)("label",{htmlFor:"audio_file",children:[" ",Object(b.jsxs)(O.a,{component:"span",children:[" ",Object(b.jsx)(Gt.a,{})]})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)(ge,{onClick:R,children:"Submit"})]}),Object(b.jsx)("br",{}),Object(b.jsx)(fe,{onClick:function(){return u(!0)},children:"Record File"}),Object(b.jsx)("br",{}),s&&Object(b.jsx)(pn,{setErrors:T,setPrepRecord:u,prepRecord:s,setNewMed:g,newMed:m,setAttachedCustom:L})]})}var fn=Object(W.a)(qe.a)({height:"200px"});function gn(e){var t=e.meditations.map((function(e){return e.teacher})).reduce((function(e,t){return e.concat(e.find((function(e){return e.id===t.id}))?[]:[t])}),[]),n=Object(c.useState)([]),a=Object(Ve.a)(n,2),r=a[0],s=a[1],i=Object(P.f)();Object(c.useEffect)((function(){s(t)}),[]);var o=r.map((function(e){return Object(b.jsxs)(me,{onClick:function(){return i.push("/teachers/".concat(e.id))},children:[Object(b.jsx)(ze.a,{title:e.name}),Object(b.jsx)(fn,{alt:e.name,image:e.image_url}),Object(b.jsxs)(Qe.a,{children:["Listens: ",e.total_listens," ",Object(b.jsx)("br",{})," Meditations: ",e.med_number]})]},e.id)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Discover New Teachers"}),Object(b.jsx)("p",{children:Object(b.jsxs)(Dt.a,{children:[Object(b.jsx)(fe,{onClick:function(){return s(t.sort((function(e,t){return e.name.localeCompare(t.name)})))},children:"By Name"})," ",Object(b.jsx)(ge,{onClick:function(){return s(t.sort((function(e,t){return t.total_listens-e.total_listens})))},children:"By Popularity"})]})}),Object(b.jsx)(Ge.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:o})]})}var vn=n(241);function yn(e){var t=e.meditations,n=Object(c.useState)(!1),a=Object(Ve.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(0),o=Object(Ve.a)(i,2),j=o[0],l=o[1],u=Object(c.useState)("--select-one--"),h=Object(Ve.a)(u,2),O=h[0],p=h[1],x=Object(c.useState)(t),m=Object(Ve.a)(x,2),f=m[0],g=m[1],v=Object(P.f)(),y=function(e){return v.push("/playingnow/".concat(e))},w=function(e,n){var c=function(e,t){return 0===+t?e:t<30?e.filter((function(e){return e.est_length<=t&&e.est_length>=t-4})):30===t?e.filter((function(e){return e.est_length<=t&&e.est_length>=t-9})):e.filter((function(e){return e.est_length<=t&&e.est_length>=t-14}))}(function(e){return"--select-one--"===e?t:t.filter((function(t){return t.med_type===e}))}(n),e).map((function(e){return Object(b.jsx)(Ft,{clickHandler:y,m:e},e.id)}));g(c),s(!0)};return Object(b.jsxs)("div",{children:[Object(b.jsxs)(vn.a,{children:[Object(b.jsx)(Mt.a,{id:"length",children:"Length "}),Object(b.jsxs)(_e,{labelId:"length",onChange:function(e){l(e.target.value)},children:[Object(b.jsx)(d.a,{value:0,children:"--select-one--"}),Object(b.jsx)(d.a,{value:5,children:"5 Minutes"}),Object(b.jsx)(d.a,{value:10,children:"10 Minutes"}),Object(b.jsx)(d.a,{value:15,children:"15 Minutes"}),Object(b.jsx)(d.a,{value:20,children:"20 Minutes"}),Object(b.jsx)(d.a,{value:30,children:"30 Minutes"}),Object(b.jsx)(d.a,{value:45,children:"45 Minutes"}),Object(b.jsx)(d.a,{value:60,children:"60 Minutes"})]})]})," ","",Object(b.jsxs)(vn.a,{children:[Object(b.jsx)(Mt.a,{labelId:"type",children:"Type"}),Object(b.jsxs)(_e,{id:"type",onChange:function(e){p(e.target.value)},children:[Object(b.jsx)(d.a,{value:"--select-one--",children:" --select-one--"}),Object(b.jsx)(d.a,{value:"Breath",children:"Breath"}),Object(b.jsx)(d.a,{value:"Awareness",children:"Awareness"}),Object(b.jsx)(d.a,{value:"Emotions",children:"Emotions"}),Object(b.jsx)(d.a,{value:"Metta",children:"Metta"}),Object(b.jsx)(d.a,{value:"Insight",children:"Insight"}),Object(b.jsx)(d.a,{value:"Bodyscan",children:"Body Scan"}),Object(b.jsx)(d.a,{value:"Listening",children:"Listening"}),Object(b.jsx)(d.a,{value:"Seeing",children:"Seeing"}),Object(b.jsx)(d.a,{value:"Walking",children:"Walking"}),Object(b.jsx)(d.a,{value:"Concentration",children:"Concentration"}),Object(b.jsx)(d.a,{value:"Nondual",children:"Non-Dual"}),Object(b.jsx)(d.a,{value:"Sleep",children:"Sleep"})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(fe,{onClick:function(){return w(j,O)},children:" Search!"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(Ge.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:r&&f})]})}function wn(){var e=Object(c.useState)(!1),t=Object(Ve.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(Ve.a)(r,2),j=s[0],l=s[1],u=Object(c.useState)(!1),d=Object(Ve.a)(u,2),h=d[0],O=d[1],p=Object(c.useState)([]),x=Object(Ve.a)(p,2),m=x[0],f=x[1];return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/meditations");case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent)[0].id?f(n):l("Something went wrong : ".concat(n.error,". Please try again"));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Search Meditations"}),j&&Object(b.jsx)("p",{children:j}),Object(b.jsxs)(Dt.a,{children:[Object(b.jsx)(fe,{onClick:function(){return a(!n)},children:"By Teacher"})," ",Object(b.jsx)(ge,{onClick:function(){return O(!h)},children:"By Length or Type"})]}),n&&Object(b.jsx)(gn,{meditations:m}),h&&Object(b.jsx)(yn,{meditations:m})]})}var _n=n(25),Sn=n(207),kn=n(272),Cn={email:"guest",password:"guest",type:"teacher"},Tn={email:"guest",password:"guest",type:"student"},Fn=Object(W.a)("div")({marginLeft:"3%"}),Mn=Object(W.a)("div")({marginLeft:"-4.5%"});function Dn(){var e=Object(l.b)(),t=Object(c.useState)(!1),n=Object(Ve.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)({email:"",password:"",type:"student"}),j=Object(Ve.a)(s,2),u=j[0],d=j[1],h=function(e){return p(e,d,u)},O=Object(P.f)();function m(){return(m=Object(o.a)(i.a.mark((function t(n){var c,a,s,o=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:null,n.preventDefault(),r(!1),c=x("POST",u),t.next=6,fetch("/log_in",c);case 6:return a=t.sent,t.next=9,a.json();case 9:(s=t.sent).id?("teacher"===u.type?e(tt(s)):e(T(s)),O.push("/landing")):r("Password and/or email do not match");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(i.a.mark((function t(n){var c,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!1),c=x("POST","teacher"===n?Cn:Tn),t.next=4,fetch("/log_in",c);case 4:return a=t.sent,t.next=7,a.json();case 7:(s=t.sent).id?(e("teacher"===n?tt(s):T(s)),O.push("/landing")):r("Something went wrong");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsx)(Q.a,{children:Object(b.jsxs)(xe,{children:[Object(b.jsxs)(Le,{children:[" ",Object(b.jsx)(Me,{src:"https://i.imgur.com/OS0kSRb.png?1"})]}),Object(b.jsx)(Fn,{children:Object(b.jsx)("h2",{children:"Log-In Here!"})}),a&&Object(b.jsx)("p",{children:a}),Object(b.jsxs)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(b.jsx)(ye,{onChange:h,value:u.email,label:"Email Address",name:"email",placeholder:"Enter your email"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{onChange:h,value:u.password,label:"Password",type:"password",autoComplete:"new-password",name:"password",placeholder:"Enter your password"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)(z.a,{size:"med",children:[Object(b.jsx)(Sn.a,{component:"legend",children:"User Type"}),Object(b.jsxs)(kn.a,{name:"type",value:u.type,children:[Object(b.jsx)(L.a,{onChange:h,control:Object(b.jsx)(pe,{color:"default"}),value:"teacher",label:"Teacher"}),Object(b.jsx)(L.a,{onChange:h,control:Object(b.jsx)(pe,{color:"default"}),label:"Student",value:"student"})]})]}),Object(b.jsx)(Mn,{children:Object(b.jsx)(Oe,{type:"submit",children:"Submit"})})]})," ",Object(b.jsxs)(Mn,{children:[Object(b.jsxs)("p",{children:["Don't have a login? ",Object(b.jsx)(_n.b,{to:"/signup",children:"Sign up here! "})," "]}),Object(b.jsx)(Pe,{onClick:function(){f("teacher")},children:"Continue as Guest Teacher"}),Object(b.jsx)("br",{}),Object(b.jsx)(Pe,{onClick:function(){return f("student")},children:"Continue as Guest Student"})]})]})})}function En(){var e=Object(c.useState)(!1),t=Object(Ve.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({name:"",email:"",password:"",confirmPassword:"",type:"student"}),s=Object(Ve.a)(r,2),j=s[0],l=s[1],u=Object(P.f)(),d=function(e){return p(e,l,j)};function h(){return(h=Object(o.a)(i.a.mark((function e(t){var n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j.password!==j.confirmPassword){e.next=13;break}return a(!1),n=x("POST",j),e.next=6,fetch("/users",n);case 6:return c=e.sent,e.next=9,c.json();case 9:r=e.sent,c.ok?u.push("/"):a(r.error),e.next=14;break;case 13:a("make sure passwords match");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsx)(Q.a,{children:Object(b.jsxs)(xe,{children:[Object(b.jsx)("p",{children:Object(b.jsxs)(Le,{children:[" ",Object(b.jsx)(Me,{src:"https://i.imgur.com/OS0kSRb.png?1"})]})}),Object(b.jsx)("h2",{children:"Sign Up Here!"}),n&&Object(b.jsx)("p",{children:n}),Object(b.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(b.jsx)(ye,{onChange:d,value:j.name,label:"Name",name:"name",placeholder:"Enter your name"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{onChange:d,value:j.email,label:"Email",name:"email",placeholder:"Enter your email"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{onChange:d,value:j.password,label:"Password",type:"password",autoComplete:"new-password",name:"password",placeholder:"Enter your password"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{onChange:d,value:j.confirmPassword,type:"password",label:"Confirm Password",autoComplete:"new-password",name:"confirmPassword",placeholder:"Confirm your password"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsxs)(z.a,{size:"med",children:[Object(b.jsx)(Sn.a,{component:"legend",children:"User Type"}),Object(b.jsxs)(kn.a,{children:[Object(b.jsx)(L.a,{onChange:d,control:Object(b.jsx)(pe,{color:"default"}),label:"Teacher",id:"teacher",value:"teacher",name:"type"}),Object(b.jsx)(L.a,{onChange:d,control:Object(b.jsx)(pe,{color:"default"}),label:"Student",value:"student",name:"type"})]})]}),Object(b.jsx)(Oe,{type:"submit",children:"Submit"})]})]})})}function In(e){var t=e.handleDelete,n=e.handleAdd,a=(e.userType,e.userName),r=e.c,s={content:"",teacher_id:r.teacher_id,student_id:r.student_id,chat_id:r.id,username:a},j=Object(c.useState)(s),l=Object(Ve.a)(j,2),u=l[0],d=l[1],h=Object(c.useState)(!1),O=Object(Ve.a)(h,2),m=O[0],g=O[1];function v(){return(v=Object(o.a)(i.a.mark((function e(t){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/messages",x("POST",u));case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,d(s),a.id?n():g("Something went wrong: ".concat(a.error));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(o.a)(i.a.mark((function e(n){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/chats/".concat(n),x("DELETE"));case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).id?t():g("Something went wrong: ".concat(a.error));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsxs)(Fe,{children:[" ",f(Be,null),r.messages[0].username,' asked: " ',r.title,' "']},r.id),Object(b.jsxs)("ul",{children:[" ",r.messages.map((function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{children:Object(b.jsxs)(me,{children:[Object(b.jsx)(R.a,{variant:"square",children:e.username.slice(0,1)}),e.username===a?"You wrote:":"From: ".concat(e.username)," ",Object(b.jsx)("br",{})," ",Object(b.jsx)("br",{}),e.username===a?e.content:"Message: ".concat(e.content)]})},e.id),Object(b.jsx)("br",{})]})}))," "]}),m&&Object(b.jsx)("p",{children:m}),Object(b.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(b.jsx)(ye,{onChange:function(e){return p(e,d,u)},multiline:!0,margin:"normal",label:"Reply",value:r.content,name:"content",type:"textarea",placeholder:"Respond"}),f(ke,null,!0)]}),Object(b.jsx)("br",{}),f(Ce,(function(){return function(e){return y.apply(this,arguments)}(r.id)}))]})}function Nn(){var e=Object(l.c)((function(e){return""===e.student.name?e.teacher:e.student})),t=Object(l.b)(),n=Object(c.useState)([]),a=Object(Ve.a)(n,2),r=a[0],s=a[1],j=Object(c.useState)(!1),u=Object(Ve.a)(j,2),d=u[0],h=u[1],O=Object(c.useState)(!1),p=Object(Ve.a)(O,2),x=p[0],m=p[1],g=function(){return h(!d)},v=function(){return m(!x)};Object(c.useEffect)((function(){function n(){return(n=Object(o.a)(i.a.mark((function n(){var c,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/chats/".concat(e.type,"s/").concat(e.id));case 2:return c=n.sent,n.next=5,c.json();case 5:a=n.sent,"teacher"===e.type?t(at(a)):t(F(a)),s(a);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[d,x]);var y=e.donations.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)(Fe,{elevation:3,children:[Object(b.jsxs)("p",{children:["From : ",e.username," ($",Number(e.amount).toFixed(2),")"]}),Object(b.jsxs)("p",{children:["Message: ",e.message]}),f(un.a,(function(){return n=e.id,t(nt(n));var n}))]})},e.id)})),w=r.map((function(t){return Object(b.jsx)(In,{handleAdd:g,handleDelete:v,userType:e.type,userName:e.name,c:t},t.id)}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h2",{children:["Message","teacher"===e.type&&" & Donations"," Page"]}),!1===e.opt_in?Object(b.jsx)("p",{children:"You are not signed up to receive messages. Please opt-in on your profile page to do so."}):Object(b.jsx)("h3",{children:"Messages"}),w,0===w.length&&Object(b.jsx)("p",{children:"You have no messages!"}),"teacher"===e.type&&Object(b.jsx)("h3",{children:"Donations"}),"student"!==e.type?e.donations.length>0?Object(b.jsx)(b.Fragment,{children:y}):Object(b.jsx)("p",{children:"No donations yet"}):null]})}var Bn=n(259),Pn=n(132),Ln=n(128),An=n.n(Ln),Rn=n(131),Wn=n.n(Rn),Yn=n(129),Hn=n.n(Yn),Un=n(127),$n=n.n(Un),qn=n(130),zn=n.n(qn),Qn=n(126),Gn=n.n(Qn),Jn=Object(W.a)(O.a)({marginRight:"38%"}),Kn=Object(W.a)(Gn.a)({color:"white"}),Vn=Object(W.a)(_n.c)({marginLeft:"35%"});function Xn(){var e=Object(l.c)((function(e){return""===e.student.name?e.teacher:e.student})),t=Object(l.b)(),n=Object(P.f)(),a=Object(c.useState)(null),r=Object(Ve.a)(a,2),s=r[0],j=r[1];function u(){return(u=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/log_in",x("DELETE"));case 2:e.sent.ok&&(t(ot()),t(N()),n.push("/"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){j(null)};return Object(b.jsx)(he,{position:"static",children:Object(b.jsxs)(Bn.a,{children:[Object(b.jsx)(Jn,{edge:"start",onClick:function(e){j(e.currentTarget)},color:"inherit",children:Object(b.jsx)($n.a,{})}),Object(b.jsx)(Ie,{src:"https://i.imgur.com/OS0kSRb.png?1"}),Object(b.jsxs)(Pn.a,{anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:h,children:[Object(b.jsx)(_n.c,{to:"/landing",children:Object(b.jsxs)(d.a,{onClick:h,children:[" Home ",f(An.a,null)]})}),Object(b.jsx)(_n.c,{to:"/profile",children:Object(b.jsxs)(d.a,{onClick:h,children:[" ","Profile ",f(Hn.a,null)]})}),"teacher"===e.type?Object(b.jsx)(_n.c,{to:"/create",children:Object(b.jsxs)(d.a,{onClick:h,children:["Create ",f(Xt.a,null)]})}):Object(b.jsx)(_n.c,{to:"/search",children:Object(b.jsxs)(d.a,{onClick:h,children:["Search ",f(zn.a,null)]})}),Object(b.jsx)(_n.c,{to:"/interact",children:Object(b.jsxs)(d.a,{onClick:h,children:["Interact",f(Wn.a,null)]})})]}),Object(b.jsxs)(Vn,{to:"/",children:[" ",f(Kn,(function(){return u.apply(this,arguments)}))]})]})})}var Zn=n(267),ec=n(263);function tc(e){var t=e.followMessage,n=e.optStatus,a=e.teacherName,r=e.teacherId,s=e.userId,u=e.userName,d={amount:0,message:"",teacher_id:r,student_id:s,username:u},h={teacher_id:r,student_id:s,content:"",title:"",username:u},O=Object(c.useState)(!1),m=Object(Ve.a)(O,2),g=m[0],v=m[1],y=Object(c.useState)(!1),w=Object(Ve.a)(y,2),_=w[0],C=w[1],T=Object(c.useState)(d),F=Object(Ve.a)(T,2),M=F[0],D=F[1],E=Object(c.useState)(h),I=Object(Ve.a)(E,2),N=I[0],B=I[1],P=Object(c.useState)(!1),L=Object(Ve.a)(P,2),A=L[0],R=L[1],W=Object(l.b)(),Y=function(e){return p(e,B,N)},H=function(e){return p(e,D,M)};function U(e){return $.apply(this,arguments)}function $(){return($=Object(o.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/messages",x("POST",N));case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).message?(W(S(Object(j.a)(Object(j.a)({},c.chat),{},{messages:[c.message]}))),R("Question sent!"),B(h),setTimeout((function(){R(!1),C(!1)}),2e3)):R("Something went wrong, ".concat(c.error));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return z.apply(this,arguments)}function z(){return(z=Object(o.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/donations",x("POST",M));case 3:return n=e.sent,e.next=6,n.json();case 6:(c=e.sent).id?(W(k(c)),R("Donation sent! Thank You! "),D(d),setTimeout((function(){R(!1),v(!1)}),2e3)):R("Something went wrong, ".concat(c.error));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{children:[Object(b.jsx)("hr",{}),t?Object(b.jsxs)("p",{children:["From ",a," : ",t]}):Object(b.jsx)("p",{children:"Thanks for the follow! This teacher has not set up a personalized message yet."}),!n&&Object(b.jsx)("p",{children:"This teacher is not taking questions at this time."}),A&&Object(b.jsx)(Zn.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:A,children:Object(b.jsx)(ec.a,{variant:"filled",severity:"success",children:A})}),g&&Object(b.jsxs)(lt.a,{open:g,children:[Object(b.jsx)(ut.a,{id:"dialog-donate",children:"Donation Form"}),Object(b.jsxs)(V.a,{children:[Object(b.jsx)("p",{children:" One dollar minimum required per donation"}),Object(b.jsxs)("form",{onSubmit:q,children:[Object(b.jsx)(ye,{value:M.amount,onChange:H,label:"Amount",type:"number",min:1,name:"amount"}),Object(b.jsx)("br",{}),Object(b.jsx)(ye,{value:M.message,multiline:!0,onChange:H,fullWidth:!0,label:"Message",type:"textarea",name:"message",placeholder:"Send a message .."}),Object(b.jsxs)("p",{children:["from: ",u]})]})]}),Object(b.jsxs)(Pt.a,{children:[f(ke,q),f(Ce,(function(){return v(!g)}))]})]}),_&&Object(b.jsxs)(lt.a,{open:_,children:[Object(b.jsxs)(V.a,{children:[Object(b.jsxs)("p",{children:["To: ",a]}),Object(b.jsxs)("form",{onSubmit:U,children:[Object(b.jsx)(ye,{value:N.title,onChange:Y,multiline:!0,type:"textarea",name:"title",label:"Title",placeholder:"Title .."}),Object(b.jsx)(ye,{value:N.content,label:"Question",fullWidth:!0,multiline:!0,onChange:Y,type:"textarea",name:"content",placeholder:"Ask a question .."})]}),Object(b.jsxs)("p",{children:["from: ",u]})]}),Object(b.jsxs)(Pt.a,{children:[f(ke,U),f(Ce,(function(){return C(!_)}))]})]}),Object(b.jsxs)("p",{children:[" ",Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(Dt.a,{children:[Object(b.jsx)(fe,{onClick:function(){return v(!g)},children:g?"Close Donation":"Donate"})," ",n&&Object(b.jsxs)(ge,{onClick:function(){return C(!_)},children:[" ",_?"Cancel Question":"Ask a Question"]})]})})]}),Object(b.jsx)("hr",{})]})}function nc(){var e=Object(P.g)().id,t=Object(c.useState)({name:"",meditations:[]}),n=Object(Ve.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),j=Object(Ve.a)(s,2),u=j[0],d=j[1],h=Object(P.f)(),O=Object(l.c)((function(e){return e.student})),p=O.follows.find((function(t){return t.teacher_id===+e})),m=Object(l.c)((function(e){return e.student.follows})).map((function(e){return e.teacher_id})).includes(+e),f=Object(l.b)(),g=function(e){return h.push("/playingnow/".concat(e))};function v(){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(i.a.mark((function t(){var n,c,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x("POST",{student_id:O.id,teacher_id:e}),t.next=3,fetch("/follows",n);case 3:return c=t.sent,t.next=6,c.json();case 6:(a=t.sent).id?f(D(a)):d(a.error);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/follows/".concat(p.id),x("DELETE"));case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).id?f(I(n.id)):d(n.error);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!1),t.target.checked?v():w();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/teachers/".concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,r(c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var k=a.meditations.map((function(e){return Object(b.jsx)(Ft,{clickHandler:g,m:e},e.id)}));return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"teacherPhoto",style:{backgroundColor:"transparent"},children:[Object(b.jsx)("h2",{children:a.name}),Object(b.jsx)("img",{src:a.image_url,alt:a.name,style:{height:"500px",width:"100%",objectFit:"cover"}}),Object(b.jsx)(Te,{children:Object(b.jsx)("p",{children:a.background})}),u&&Object(b.jsx)("p",{children:u}),Object(b.jsx)(L.a,{control:Object(b.jsx)(ve,{name:"followSwitch",checked:m,onChange:function(e){return S.apply(this,arguments)}}),label:m?"Following":"Not Following"}),m?Object(b.jsx)(tc,{teacherName:a.name,teacherId:e,userId:O.id,userName:O.name,optStatus:a.opt_in,followMessage:a.follow_message}):null]}),Object(b.jsx)(Ge.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:k})]})}var cc=n(260),ac=n(261),rc=Object(W.a)(cc.a)({color:"".concat(de)}),sc=Object(W.a)(cc.a)({color:"".concat(be)});function ic(){var e=Object(c.useState)({teacher:{image_url:"",name:""}}),t=Object(Ve.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(Ve.a)(r,2),j=s[0],u=s[1],d=Object(c.useState)(!1),h=Object(Ve.a)(d,2),O=h[0],p=h[1],f=Object(c.useState)(!1),g=Object(Ve.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(0),_=Object(Ve.a)(w,2),S=_[0],k=_[1],C=Object(l.c)((function(e){return e.student.id})),T=Object(l.b)(),F=Object(P.f)(),D=Object(P.g)().id;function E(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(i.a.mark((function e(t){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/plays",x("POST",{student_id:C,meditation_id:n.id,length:Math.round(j/60)}));case 2:return c=e.sent,e.next=5,c.json();case 5:a=e.sent,T(M(a)),y(!1),p(t),setTimeout((function(){return F.push("/profile")}),2500);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/meditations/".concat(D));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[D]);return Object(b.jsxs)(me,{children:[Object(b.jsx)(ze.a,{title:n.title}),Object(b.jsx)("p",{children:Object(b.jsxs)(ac.a,{position:"relative",display:"inline-flex",children:[Object(b.jsx)(sc,{thickness:4,size:200,value:S,variant:"determinate"}),Object(b.jsx)(ac.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(b.jsx)("div",{dir:"rtl",children:Object(b.jsx)(rc,{flip:!1,thickness:4,size:100,value:100-S,variant:"determinate"})})})," "]})}),O&&Object(b.jsx)("p",{children:Object(b.jsxs)(lt.a,{open:O,children:[" ",Object(b.jsx)(ut.a,{children:"Congrats!"}),Object(b.jsx)(V.a,{children:Object(b.jsx)(zt.a,{children:O})})]})}),Object(b.jsx)("p",{children:n.teacher.name}),Object(b.jsx)("p",{children:n.description}),v&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(lt.a,{open:v,children:[" ",Object(b.jsx)(ut.a,{children:"Paused"}),Object(b.jsx)(V.a,{children:Object(b.jsx)(zt.a,{children:"Would you like to continue your session?"})}),Object(b.jsxs)(Pt.a,{children:[Object(b.jsx)(fe,{onClick:function(){return y(!1)},children:"Continue"}),Object(b.jsxs)(ge,{onClick:function(){return E("Every minute counts!")},children:["End"," "]}),Object(b.jsx)(fe,{onClick:function(){return F.push("/profile")},children:"Discard"})]})]})}),Object(b.jsx)(De,{onPause:function(){return y(!0)},onProgress:function(e){k(Math.round(100*e.played)),u(e.playedSeconds)},onSeek:function(){return y(!1)},onEnded:function(){return E("Congrats on finishing!")},playing:!0,controls:!0,height:"50px",width:"100%",url:m(n.audio_file)})]})}var oc=Object(W.a)("div")({background:"linear-gradient(45deg, ".concat(de," 30%, ").concat(be," 90%)"),padding:"100px",align:"center",textAlign:"center"});var jc=function(){var e=Object(l.c)((function(e){return""===e.student.name?e.teacher:e.student})),t=Object(l.b)();return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/me");case 2:return n=e.sent,e.next=5,n.json();case 5:null!==(c=e.sent)&&(c.image_url?t(tt(c)):t(T(c)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),""===e.name?Object(b.jsxs)(oc,{children:[Object(b.jsx)("br",{}),Object(b.jsx)(P.c,{children:Object(b.jsxs)(z.a,{maxWidth:"sm",children:[Object(b.jsx)(P.a,{path:"/",exact:!0,component:Dn}),Object(b.jsx)(P.a,{path:"/signup",exact:!0,component:En})]})}),Object(b.jsx)("br",{})]}):Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("nav",{children:Object(b.jsx)(Xn,{})}),Object(b.jsxs)("main",{children:[Object(b.jsx)(P.a,{path:"/create",component:mn}),Object(b.jsx)(P.a,{path:"/landing",component:gt}),Object(b.jsx)(P.a,{path:"/profile",component:Ht}),Object(b.jsx)(P.a,{path:"/search",component:wn}),Object(b.jsx)(P.a,{exact:!0,path:"/playingnow/:id",component:ic}),Object(b.jsx)(P.a,{exact:!0,path:"/teachers/:id",component:nc}),Object(b.jsx)(P.a,{exact:!0,path:"/interact",component:Nn})]})]})},lc=Object(v.a)({reducer:{teacher:jt,student:B}});r.a.render(Object(b.jsx)(l.a,{store:lc,children:Object(b.jsx)(_n.a,{children:Object(b.jsx)(jc,{})})}),document.getElementById("root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.c67afa22.chunk.js.map